# /*********************************************\ #
# /*************  TOKEN  VARIABLE  *************\ #
# /*********************************************\ #


@token = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MywiZmlyc3RuYW1lIjoiTGF1cmEiLCJsYXN0bmFtZSI6IlRldXIiLCJlbWFpbCI6ImxhdXJhLnRldXJAZ21haWwuY29tIiwicGFzc3dvcmQiOiIkMmIkMTAkSFhXMWZPTm5WSmlhZGdqQWh2V0ZmdUd4ZVp1YWhBRGtQaEpXeEZQWG5rei93amZ2T2RNM1MiLCJiaXJ0aGRhdGUiOiIxOTkwLTA1LTA0VDIyOjAwOjAwLjAwMFoiLCJlY29jb2lucyI6NTAsInNjb3JlIjowLCJyb2xlX2lkIjoyLCJjcmVhdGVkX2F0IjoiMjAyMy0wNC0yNlQxNDo0MDoyMC40NDZaIiwidXBkYXRlZF9hdCI6bnVsbCwiaWF0IjoxNjgyNTIyNTU2LCJleHAiOjE2ODI1MjQzNTZ9.Z1W0KzZfmQ7YBn_3HyjoQzADEayo4M-X-gBBFM8NALI

###




# /********************************************\ #
# /************  AUTHENTIFICATION  ************\ #
# /********************************************\ #


# ACCOUNT CREATION
POST http://localhost:3000/sign-up
Content-Type: application/json

{
    "firstname": "Jean",
    "lastname": "Biance",
    "email":"jean.biance@gmail.com",
    "password":"Azerty123!",
    "confirmpassword": "Azerty123!",
    "birthdate": "05/05/1990"
}

###


# USER LOGIN
POST http://localhost:3000/sign-in
Content-Type: application/json

{
    "email":"laura.teur@gmail.com",
    "password":"Azerty123!"
}

###


# ADMIN LOGIN
POST http://localhost:3000/sign-in
Content-Type: application/json

{
    "email":"jean.biance@gmail.com",
    "password":"Azerty123!"
}

###




# /********************************************\ #
# /******************  USER  ******************\ #
# /********************************************\ #


# RETURNS USER'S DATA
GET http://localhost:3000/me/user
Authorization: {{token}}

###


# UPDATES USER'S DATA
PATCH http://localhost:3000/me/user
Content-Type: application/json
Authorization: {{token}}

{
    "firstname": "Jean",
    "lastname": "Biance",
    "email": "jean.biance@gmail.com",
    "password": "Azerty123!",
    "confirmpassword": "Azerty123!",
    "birthdate": "06/05/1991"
}

###


# DELETES USER
DELETE http://localhost:3000/me/user
Authorization: {{token}}

####


# RETURNS ALL USERS (ADMIN ONLY)
GET http://localhost:3000/user
Authorization: {{token}}

###


# SETS USER'S ROLE TO ADMIN (ADMIN ONLY)
PATCH http://localhost:3000/user/6
Authorization: {{token}}


# /********************************************\ #
# /***************  COLLECTION  ***************\ #
# /********************************************\ #

###

# RETURNS ALL THE CARDS IN USER'S COLLECTION
GET http://localhost:3000/me/collection
Authorization: {{token}}

###


# RETURNS A RANDOM CARD
GET http://localhost:3000/me/collection/card
Authorization: {{token}}

###


# ADDS A CARD TO THE USER'S COLLECTION
POST http://localhost:3000/me/collection/card
Content-Type: application/json
Authorization: {{token}}

{
    "cardId":49,
    "expirationDate":"01-01-2023"
}

###


# UPDATES USER_CARD STATE TO TRUE
PATCH http://localhost:3000/me/collection/card/10
Authorization: {{token}}

###


# DELETES USER_CARD
DELETE http://localhost:3000/me/collection/card/10
Authorization: {{token}}

###




# /********************************************\ #
# /****************  PROPOSAL  ****************\ #
# /********************************************\ #


# ADDS A PROPOSED CARD
POST http://localhost:3000/me/proposal
Content-Type: application/json
Authorization: {{token}}

{
    "image": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",
    "title":"titre14",
    "description":"description",
    "environmentalrating":3,
    "economicrating":3,
    "value": 50,
    "tags": [1,2]
}

###


# RETURNS ALL PROPOSED CARDS (ADMIN ONLY)
GET http://localhost:3000/proposal
Authorization: {{token}}

###


# SETS PROPOSED CARDS ON FALSE (ADMIN ONLY)
PATCH http://localhost:3000/proposal/63
Authorization: {{token}}

###




# /*******************************************\ #
# /******************  TAG  ******************\ #
# /*******************************************\ #


# RETURNS ALL TAGS
GET http://localhost:3000/tag
Authorization: {{token}}

###


# ADDS A TAG (ADMIN ONLY)
POST http://localhost:3000/tag
Content-Type: application/json
Authorization: {{token}}

{
    "name": "Truc",
    "color":"#123123"
}

###


# UPDATES A TAG (ADMIN ONLY)
PATCH http://localhost:3000/tag/22
Content-Type: application/json
Authorization: {{token}}

{
    "name": "Machin",
    "color":"#94a3b7"
}

###


# DELETES A TAG (ADMIN ONLY)
DELETE http://localhost:3000/tag/22
Authorization: {{token}}

####




# /********************************************\ #
# /******************  CARD  ******************\ #
# /********************************************\ #


# RETURNS ALL CARDS CREATED BY THE USER
GET http://localhost:3000/me/card
Authorization: {{token}}

###


# RETURNS ALL APPROVED CARDS (ADMIN ONLY)
GET http://localhost:3000/card
Authorization: {{token}}

####


# UPDATES A CARD (ADMIN ONLY)
PATCH http://localhost:3000/card/63
Content-Type: application/json
Authorization: {{token}}

{
    "title": "titre8",
    "description": "description2",
    "environmentalrating": 5,
    "economicrating": 3,
    "value": 55,
    "tags": [8]
}

# {
#     "image": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",
#     "title": "titre9",
#     "description": "description2",
#     "environmentalrating": 5,
#     "economicrating": 3,
#     "value": 55,
#     "tags": [2]
# }

####


# DELETES A CARD (ADMIN ONLY)
DELETE http://localhost:3000/card/63
Authorization: {{token}}

###




# /*********************************************\ #
# /*****************  RANKING  *****************\ #
# /*********************************************\ #


# RETURNS THE 5 TOP 5 USER'S WITH THE HIGHEST SCORES
GET http://localhost:3000/ranking/score
Authorization: {{token}}

###


# RETURNS THE TOP 5 USERS WITH THE HIGHEST CARD CREATION AMOUNT
GET http://localhost:3000/ranking/creation
Authorization: {{token}}