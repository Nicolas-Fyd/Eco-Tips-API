# /*********************************************\ #
# /*************  TOKEN  VARIABLE  *************\ #
# /*********************************************\ #


@token = Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NCwiZmlyc3RuYW1lIjoiSmVhbiIsImxhc3RuYW1lIjoiQmlhbmNlIiwiZW1haWwiOiJqZWFuLmJpYW5jZUBnbWFpbC5jb20iLCJwYXNzd29yZCI6IiQyYiQxMCQvdDRaTlZXYlQ2U1UwR3pHMi9TSEp1NThYMmVTNkNyZVFuMzNLMHBLbWRwS2hROHBzUVo2SyIsImJpcnRoZGF0ZSI6IjE5OTAtMDUtMDRUMjI6MDA6MDAuMDAwWiIsImVjb2NvaW5zIjowLCJzY29yZSI6MCwicm9sZV9pZCI6MSwiY3JlYXRlZF9hdCI6IjIwMjMtMDQtMjBUMTM6MTg6NTguNTczWiIsInVwZGF0ZWRfYXQiOm51bGwsImlhdCI6MTY4MjQzODMyMCwiZXhwIjoxNjgyNDQwMTIwfQ.15cvGgk1l_CH3eWtqRtNzlAQTmx9Shn-0o28ioDF56U

###




# /********************************************\ #
# /************  AUTHENTIFICATION  ************\ #
# /********************************************\ #


# ACCOUNT CREATION
POST http://localhost:3000/sign-up
Content-Type: application/json

{
    "firstname": "Jean",
    "lastname": "Biance",
    "email":"jean.biance@gmail.com",
    "password":"Azerty123!",
    "confirmpassword": "Azerty123!",
    "birthdate": "05/05/1990"
}

###


# USER LOGIN
POST http://localhost:3000/sign-in
Content-Type: application/json

{
    "email":"laura.teur@gmail.com",
    "password":"Azerty123!"
}

###


# ADMIN LOGIN
POST http://localhost:3000/sign-in
Content-Type: application/json

{
    "email":"jean.biance@gmail.com",
    "password":"Azerty123!"
}

###




# /********************************************\ #
# /******************  USER  ******************\ #
# /********************************************\ #


# RETURNS USER'S DATA
GET http://localhost:3000/me/user
Authorization: {{token}}

###


# UPDATES USER'S DATA
PATCH http://localhost:3000/me/user
Content-Type: application/json
Authorization: {{token}}

{
    "firstname": "Jean",
    "lastname": "Biance",
    "email": "jean.biance@gmail.com",
    "password": "Azerty123!",
    "confirmpassword": "Azerty123!",
    "birthdate": "06/05/1990"
}

###


# DELETES USER'S DATA
DELETE http://localhost:3000/me/user
Authorization: {{token}}

####


# RETURNS ALL USERS' DATA (ADMIN ONLY)
GET http://localhost:3000/user
Authorization: {{token}}

###


# SETS USER'S ROLE TO ADMIN (ADMIN ONLY)
PATCH http://localhost:3000/user/6
Authorization: {{token}}

####




# /********************************************\ #
# /***************  COLLECTION  ***************\ #
# /********************************************\ #


# RETURNS ALL THE CARDS IN USER'S COLLECTION
GET http://localhost:3000/me/collection
Authorization: {{token}}

###


# RETURNS A RANDOM CARD
GET http://localhost:3000/me/collection/card
Authorization: {{token}}

###


# ADDS A CARD TO THE USER'S COLLECTION
POST http://localhost:3000/me/collection/card
Content-Type: application/json
Authorization: {{token}}

{
    "cardId":10,
    "expirationDate":"01-02-2023"
}

###


# UPDATES USER_CARD STATE TO TRUE
PATCH http://localhost:3000/me/collection/card/10
Authorization: {{token}}

###


# DELETES USER_CARD
DELETE http://localhost:3000/me/collection/card/10
Authorization: {{token}}

###




# /********************************************\ #
# /****************  PROPOSAL  ****************\ #
# /********************************************\ #


# ADDS A PROPOSED CARD
POST http://localhost:3000/me/proposal
Content-Type: application/json
Authorization: {{token}}

{
    "image": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",
    "title":"titre12",
    "description":"description",
    "environmentalrating":3,
    "economicrating":3,
    "value": 50,
    "tags": [1,2]
}

###


# RETURNS ALL PROPOSED CARDS (ADMIN ONLY)
GET http://localhost:3000/proposal
Authorization: {{token}}

###


# SETS PROPOSED CARDS ON FALSE (ADMIN ONLY)
PATCH http://localhost:3000/proposal/55
Authorization: {{token}}

###




# /*******************************************\ #
# /******************  TAG  ******************\ #
# /*******************************************\ #


# RETURNS ALL TAGS
GET http://localhost:3000/tag
Authorization: {{token}}

###


# ADDS A TAG (ADMIN ONLY)
POST http://localhost:3000/tag
Content-Type: application/json
Authorization: {{token}}

{
    "name": "Truc",
    "color":"#123123"
}

###


# UPDATES A TAG (ADMIN ONLY)
PATCH http://localhost:3000/tag/20
Content-Type: application/json
Authorization: {{token}}

{
    "name": "Machin",
    "color":"#94a3b7"
}

###


# DELETES A TAG (ADMIN ONLY)
DELETE http://localhost:3000/tag/20
Authorization: {{token}}

####




# /********************************************\ #
# /******************  CARD  ******************\ #
# /********************************************\ #


# RETURNS ALL CARDS CREATED BY THE USER
GET http://localhost:3000/me/card
Authorization: {{token}}

###


# RETURNS ALL APPROVED CARDS (ADMIN ONLY)
GET http://localhost:3000/card
Authorization: {{token}}

####


# UPDATES A CARD (ADMIN ONLY)
PATCH http://localhost:3000/card/58
Content-Type: application/json
Authorization: {{token}}

{
    "title": "titre8",
    "description": "description2",
    "environmentalrating": 5,
    "economicrating": 3,
    "value": 55,
    "tags": [8]
}

# {
#     "image": "data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",
#     "title": "titre9",
#     "description": "description2",
#     "environmentalrating": 5,
#     "economicrating": 3,
#     "value": 55,
#     "tags": [2]
# }

####


# DELETES A CARD (ADMIN ONLY)
DELETE http://localhost:3000/card/53
Authorization: {{token}}


# /*********************************************\ #
# /*****************  RANKING  *****************\ #
# /*********************************************\ #


# RETURNS THE LATEST CREATED CARD VALIDATED BY ADMIN
GET http://localhost:3000/ranking
Authorization: {{token}}